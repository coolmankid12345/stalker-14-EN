<controls:FancyWindow xmlns="https://spacestation14.io"
                      xmlns:controls="clr-namespace:Content.Client.UserInterface.Controls"
                      xmlns:radar="clr-namespace:Content.Client._Stalker_EN.Devices.ArtifactRadar"
                      xmlns:gfx="clr-namespace:Robust.Client.Graphics;assembly=Robust.Client"
                      Title="{Loc 'artifact-radar-window-title'}"
                      MinSize="420 510"
                      SetSize="420 510">
    <BoxContainer Orientation="Vertical" Margin="5">
        <!-- Header Section -->
        <PanelContainer Margin="0 0 0 5">
            <PanelContainer.PanelOverride>
                <gfx:StyleBoxFlat BackgroundColor="#0A150A" BorderColor="#1A3A1A" BorderThickness="1" />
            </PanelContainer.PanelOverride>
            <Label Name="HeaderLabel"
                   HorizontalAlignment="Center"
                   Margin="5"
                   FontColorOverride="#3A8A3A" />
        </PanelContainer>

        <!-- Radar Section -->
        <PanelContainer VerticalExpand="True" Margin="0 0 0 5">
            <PanelContainer.PanelOverride>
                <gfx:StyleBoxFlat BackgroundColor="#050A05" BorderColor="#1A3A1A" BorderThickness="1" />
            </PanelContainer.PanelOverride>
            <radar:ArtifactRadarControl Name="RadarControl"
                                     HorizontalExpand="True"
                                     VerticalExpand="True"
                                     Margin="5" />
        </PanelContainer>

        <!-- Controls Section -->
        <BoxContainer Orientation="Horizontal" HorizontalAlignment="Center" Margin="5">
            <!-- Anomaly Detector Button - hidden when device lacks ZoneAnomalyDetectorComponent -->
            <Control Name="AnomalyDetectorPanel">
                <ContainerButton Name="AnomalyDetectorButton" StyleClasses="button" MinWidth="160" Margin="5 0 5 0">
                    <BoxContainer Orientation="Horizontal" HorizontalAlignment="Center">
                        <Label Text="{Loc 'artifact-radar-label-anomaly-detector'}" />
                        <Label Name="AnomalyDetectorStateLabel" Margin="4 0 0 0" />
                    </BoxContainer>
                </ContainerButton>
            </Control>
            <ContainerButton Name="ArtifactScannerButton" StyleClasses="button" MinWidth="160" Margin="5 0 5 0">
                <BoxContainer Orientation="Horizontal" HorizontalAlignment="Center">
                    <Label Text="{Loc 'artifact-radar-label-artifact-scanner'}" />
                    <Label Name="ArtifactScannerStateLabel" Margin="4 0 0 0" />
                </BoxContainer>
            </ContainerButton>
        </BoxContainer>

        <!-- Waveform Section -->
        <PanelContainer Name="WaveformPanel" Margin="0 5 0 0">
            <PanelContainer.PanelOverride>
                <gfx:StyleBoxFlat BackgroundColor="#050A05" BorderColor="#1A3A1A" BorderThickness="1" />
            </PanelContainer.PanelOverride>
            <radar:ArtifactRadarWaveformControl Name="WaveformControl" MinHeight="40" Margin="5" />
        </PanelContainer>
    </BoxContainer>
</controls:FancyWindow>
